<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="format-detection" content="telephone=no" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <title>svg雪碧图</title>
</head>
<style>
    svg {
        width: 24px;
        height: 24px;
        cursor: pointer;
    }
    
    .share {
        display: -webkit-flex;
        display: flex;
        width: 200px;
        justify-content: space-between;
    }
</style>

<body>
    <div class="share">
        <span>分享至:</span>
        <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#facebook"></use></svg>
        <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#twitter"></use></svg>
        <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#wechat"></use></svg>
        <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#qzone"></use></svg>
        <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#weibo"></use></svg>
    </div>
</body>
<script>
    // svg 的位置
    var svgUrl = "./images/svg.svg";
    if (window.addEventListener) {
        var div = document.createElement("div");
        div.style.display = "none";
        document.body.appendChild(div);
        // 载入SVG
        if (localStorage.getItem(svgUrl)) {
            // 本地获取，减少请求
            div.innerHTML = localStorage.getItem(svgUrl);
        } else {
            var xhr = new XMLHttpRequest();
            xhr.open("get", svgUrl);
            xhr.onload = function() {
                if (xhr.responseText) {
                    div.innerHTML = xhr.responseText;
                    // 保存到localStorage
                    localStorage.setItem(svgUrl, xhr.responseText);
                }
            };
            xhr.send(null);
        }
    }
</script>

</html>